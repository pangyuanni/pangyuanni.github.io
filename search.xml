<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>文泉课堂知识库图书爬虫</title>
      <link href="/spider-wenquanketang/"/>
      <url>/spider-wenquanketang/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>昨天导员老师发了个通知，说在疫情期间，清华大学的文泉课堂资源免费开放，那何不用爬虫技术，将所有的的电子书下载下来，于是就有了这篇文章</p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>首先确定一下爬取的思路，浏览了一下发现并没有直接下载的链接，只能免费的阅读里面的书，打开阅读界面，书是以图片的形式呈现的，于是我们的爬虫思路是按顺序爬取所有的图片，最后合成一个pdf文件，这样我们就成功的获取到了这本书的pdf版</p><h2 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h2><p>我们打开浏览器，随便打开一本书，然后打开调试，发现网页源码并不能直接获得，是通过动态加载的，所以只能考虑图片地址的规律</p><p><img src="C:\Users\lyh\AppData\Roaming\Typora\typora-user-images\1580799748700.png" alt="1580799748700"></p><p>我们会发现，图片的url是页数，后面是一串字符串，这时经百度发现这是<a href="https://baijiahao.baidu.com/s?id=1608021814182894637&amp;wfr=spider&amp;for=pc" target="_blank" rel="noopener">jwt</a></p><p>可以理解成是web验证身份的一种方式吧，我也是第一次接触，在网上看了很多相关的文章，在这里推荐几篇</p><p><a href="https://blog.csdn.net/weixin_42030357/article/details/95629924" target="_blank" rel="noopener">利用JWT生成Token的原理及公钥和私钥加密和解密的原则</a></p><p><a href="http://blog.leapoahead.com/2015/09/06/understanding-jwt/" target="_blank" rel="noopener">JSON Web Token - 在Web应用间安全地传递信息</a></p><p><a href="https://baijiahao.baidu.com/s?id=1608021814182894637&amp;wfr=spider&amp;for=pc" target="_blank" rel="noopener">10分钟了解JSON Web令牌（JWT）</a></p><p><a href="https://blog.csdn.net/lizhiqiang1217/article/details/90523209" target="_blank" rel="noopener">Jwt简介</a></p><p>简单地说JWT 的原理是，服务器认证以后，生成一个 JSON 对象，发回给用户，就像下面这样。</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJuaW5naGFvLm5ldCIsImV4cCI6IjE0Mzg5NTU0NDUiLCJuYW1lIjoid2FuZ2hhbyIsImFkbWluIjp0cnVlfQ.SwyHTEx_RQppr97g4J5lKXtabJecpejuef8AqKYMAJc</span><br></pre></td></tr></table></figure><p>jwt由三部分构成分别如下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Header（头部）</span><br><span class="line">Payload（负载）</span><br><span class="line">Signature（签名）</span><br></pre></td></tr></table></figure><p>我百度了一下有个<a href="http://jwt.calebb.net/" target="_blank" rel="noopener">jwt</a>的在线解密的网站，进去后随便复制一个图片的token如图：</p><p><img src="http://q4uie93wz.bkt.clouddn.com/20200203120623653/20200204034646697.png" alt=""></p><h2 id="里面的数据："><a href="#里面的数据：" class="headerlink" title="里面的数据："></a>里面的数据：</h2><ol><li><p>alg属性表示签名的算法（algorithm），默认是 HMAC SHA256（写成HS256）；typ属性表示这个令牌（token）的类型（type），JWT 令牌统一写为JWT。</p></li><li><p>中间的dict是Payload，可以理解成我们要给服务器的数据，其中p代表页数，t是时间戳，b是书的id就是bid，k值我看了半天没看懂，后来在网页中我发现了个请求如下图：</p><p>​       <img src="http://q4uie93wz.bkt.clouddn.com/20200203120623653/20200204040745561.png" alt="k值"></p></li></ol><pre><code>刚好和上面的k值里的u，i，t，b，n对上，所以我就肯定没错了，是 这个  了，然后所有的东西确定了之后，我们就开始构建吧,然后在Headers里找到相关信息，并进行获取就行</code></pre><ol start="3"><li>最下面的是Signature 部分是对前两部分的签名，防止数据篡改。</li></ol><p>算出签名以后，把 Header、Payload、Signature 三个部分拼成一个字符串，每个部分之间用”点”（.）分隔，就可以返回给用户。</p><p>代码如下图示</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gen_jwt_token</span><span class="params">(bookid, page)</span>:</span></span><br><span class="line">  <span class="string">''' get jwt token '''</span></span><br><span class="line">  cur_time = time.time()  //时间戳</span><br><span class="line">  jwtkey = gen_jwt_key(bookid)  //token里的k值</span><br><span class="line">  jwttoken = jwt.encode(</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">"p"</span>: page,</span><br><span class="line">      <span class="string">"t"</span>: int(cur_time) * <span class="number">1000</span>,</span><br><span class="line">      <span class="string">"b"</span>: str(bookid),</span><br><span class="line">      <span class="string">"w"</span>: <span class="number">1000</span>,</span><br><span class="line">      <span class="comment"># "k": json.dumps(self.jwtkey),</span></span><br><span class="line">      <span class="string">"k"</span>: json.dumps(jwtkey),</span><br><span class="line">      <span class="string">"iat"</span>: int(cur_time),</span><br><span class="line">    &#125;,  //进行编码</span><br><span class="line">    JWT_SECRET,</span><br><span class="line">    algorithm=<span class="string">'HS256'</span>,</span><br><span class="line">  ).decode(<span class="string">'ascii'</span>)</span><br><span class="line">  <span class="keyword">return</span> jwttoken</span><br></pre></td></tr></table></figure><p>k值获取代码</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gen_jwt_key</span><span class="params">(bookid)</span>:</span></span><br><span class="line">  URL =<span class="string">'https://lib-nuanxin.wqxuetang.com'</span></span><br><span class="line">  url = <span class="string">f'<span class="subst">&#123;URL&#125;</span>/v1/read/k?bid=<span class="subst">&#123;bookid&#125;</span>'</span></span><br><span class="line">  <span class="keyword">try</span>:</span><br><span class="line">    resp = requests.get(url,headers = headers)</span><br><span class="line">    resp.raise_for_status()</span><br><span class="line">  <span class="keyword">except</span> Exception <span class="keyword">as</span> exc:</span><br><span class="line">    print(exc)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">try</span>:</span><br><span class="line">    jdata = resp.json()</span><br><span class="line">  <span class="keyword">except</span> Exception <span class="keyword">as</span> exc:</span><br><span class="line">    jdata = &#123;&#125;</span><br><span class="line"></span><br><span class="line">  res = jdata.get(<span class="string">'data'</span>)</span><br><span class="line">  <span class="keyword">if</span> res <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">    <span class="keyword">raise</span> Exception(<span class="string">'returned None, something is not right...'</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure><p>有了这些我们就可以来轻松的获取图片了</p><p>我们可以发现图片的url规律是</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">URL = <span class="string">'https://lib-nuanxin.wqxuetang.com'</span></span><br><span class="line"><span class="string">f'<span class="subst">&#123;URL&#125;</span>/page/img/<span class="subst">&#123;bookid&#125;</span>/<span class="subst">&#123;page&#125;</span>?k=<span class="subst">&#123;token&#125;</span>'</span></span><br></pre></td></tr></table></figure><p>然后就可以来获取图片了</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fetch_png</span><span class="params">(bookid, page)</span>:</span></span><br><span class="line">  <span class="string">''' download book page img '''</span></span><br><span class="line">  token = gen_jwt_token(bookid, page)</span><br><span class="line">  print(token)</span><br><span class="line">  url = <span class="string">f'<span class="subst">&#123;URL&#125;</span>/page/img/<span class="subst">&#123;bookid&#125;</span>/<span class="subst">&#123;page&#125;</span>?k=<span class="subst">&#123;token&#125;</span>'</span></span><br><span class="line">  print(url)</span><br><span class="line">  headers = &#123;</span><br><span class="line">    <span class="string">'accept'</span>: <span class="string">'image / webp, image / *, * / *;q = 0.8'</span>,</span><br><span class="line">    <span class="string">'referer'</span>: <span class="string">f'<span class="subst">&#123;URL&#125;</span>/read/pdf/<span class="subst">&#123;bookid&#125;</span>'</span>,</span><br><span class="line">    <span class="string">'user-agent'</span>: <span class="string">'Mozilla/5.0 (Windows NT 10.0; WOW64)    AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36'</span>,</span><br><span class="line">  &#125;</span><br><span class="line">  req = requests.get(url,headers=headers)</span><br><span class="line">  res = req.content</span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(str(bookid)):</span><br><span class="line">    os.mkdir(str(bookid))</span><br><span class="line">  <span class="keyword">with</span> open(str(bookid)+<span class="string">'/'</span>+str(page)+<span class="string">'.jpg'</span>,<span class="string">'wb'</span>)<span class="keyword">as</span> f:</span><br><span class="line">      f.write(res)</span><br></pre></td></tr></table></figure><p>当我们获取到书的所有图片如图：</p><p><img src="http://q4uie93wz.bkt.clouddn.com/20200203120623653/20200204042704956.png" alt=""></p><p>然后我们再用python将这些图片合成一个完整的pdf</p><p>具体代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># Author:windknew</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> reportlab.lib.units <span class="keyword">import</span> mm, inch</span><br><span class="line"><span class="keyword">from</span> reportlab.lib.pagesizes <span class="keyword">import</span> A4,A5, landscape</span><br><span class="line"><span class="keyword">from</span> reportlab.pdfgen <span class="keyword">import</span> canvas</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 图片文件名称列表</span></span><br><span class="line">IMAGEFILES = []</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">convertpdf</span><span class="params">(pdfFile)</span>:</span></span><br><span class="line">  <span class="string">'''多个图片合成一个pdf文件'''</span></span><br><span class="line">  (w, h) = landscape(A5) <span class="comment">#</span></span><br><span class="line">  cv = canvas.Canvas(pdfFile,pagesize=landscape(A5))</span><br><span class="line">  <span class="keyword">for</span> imagePath <span class="keyword">in</span> IMAGEFILES:</span><br><span class="line">     print(imagePath)</span><br><span class="line">     cv.drawImage(imagePath, <span class="number">0</span>, <span class="number">0</span>, w, h)</span><br><span class="line">     cv.showPage()</span><br><span class="line">  cv.save()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getListImages</span><span class="params">(dirPath)</span>:</span></span><br><span class="line">  <span class="string">'''读取指定文件夹下所有的JPEG图片，存入列表'''</span></span><br><span class="line">  <span class="keyword">if</span> dirPath <span class="keyword">is</span> <span class="keyword">None</span> <span class="keyword">or</span> len(dirPath) == <span class="number">0</span>:</span><br><span class="line">     <span class="keyword">raise</span> ValueError(<span class="string">'dirPath不能为空，该值为存放图片的具体路径文件夹！'</span>)</span><br><span class="line">  <span class="keyword">if</span> os.path.isfile(dirPath):</span><br><span class="line">     <span class="keyword">raise</span> ValueError(<span class="string">'dirPath不能为具体文件，该值为存放图片的具体路径文件夹！'</span>)</span><br><span class="line">  <span class="keyword">if</span> os.path.isdir(dirPath):</span><br><span class="line">     <span class="keyword">for</span> imageName <span class="keyword">in</span> os.listdir(dirPath):</span><br><span class="line">        <span class="keyword">if</span> imageName.endswith(<span class="string">'.jpg'</span>) <span class="keyword">or</span>   imageName.endswith(<span class="string">'.jpeg'</span>):</span><br><span class="line">           absPath =converPath(dirPath) + imageName</span><br><span class="line">           IMAGEFILES.append(absPath)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">converPath</span><span class="params">(dirPath)</span>:</span></span><br><span class="line">  <span class="keyword">if</span> dirPath <span class="keyword">is</span> <span class="keyword">None</span> <span class="keyword">or</span> len(dirPath) == <span class="number">0</span>:</span><br><span class="line">     <span class="keyword">raise</span> ValueError(<span class="string">'dirPath不能为空！'</span>)</span><br><span class="line">  <span class="keyword">if</span> os.path.isfile(dirPath):</span><br><span class="line">     <span class="keyword">raise</span> ValueError(<span class="string">'dirPath不能为具体文件，该值为文件夹路径！'</span>)</span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span> str(dirPath).endswith(<span class="string">"\\"</span>):</span><br><span class="line">     <span class="keyword">return</span> dirPath + <span class="string">"\\"</span></span><br><span class="line">  <span class="keyword">return</span> dirPath</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    getListImages(<span class="string">'C:/Users/lyh/Desktop/ershoushu/2175744/'</span>)</span><br><span class="line">    pdfFile = converPath(<span class="string">'C:/Users/lyh/Desktop/ershoushu/2175744/'</span>)+<span class="string">'2175744'</span>+ <span class="string">".pdf"</span></span><br><span class="line">    convertpdf(pdfFile)</span><br></pre></td></tr></table></figure><h1 id="结语总结"><a href="#结语总结" class="headerlink" title="结语总结"></a>结语总结</h1><p>   这样我们就成功的获取到了一本想要的pdf，但是文泉课堂不知什么原因有时候就会502，这样的话我们就需要多爬几次，直到把整本书的img都抓到，这次分享就到这儿了</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 爬虫，python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用hexo搭建博客（四）</title>
      <link href="/hexo-3/"/>
      <url>/hexo-3/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>承接上篇博客，上篇博客中我们在Github上部署成功，但Github上的访问速度在国内较慢，而且免费提供的资源有限，不适于长时期的博客运作，所以在此篇文章中，来说一下，我部署在云服务器的过程以及遇到的问题</p><p>首先我们了解一下，hexo利用git更新的流程，部署在Github上和部署在云服务器上没有特别大的本质区别</p><p>整个流程就是本地将markdown文件渲染成静态文件，然后Git推送到服务器的r代码仓库，让服务器通过钩子（hook）同步网站根目录，再利用nginx托管这些静态资源，就可以实现访问</p><h1 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h1><h2 id="本地环境"><a href="#本地环境" class="headerlink" title="本地环境"></a>本地环境</h2><p>Windows10,在本地已经装好了Git，nodejs，hexo，并且在本地已经成功的能调试出来hexo</p><h2 id="服务器环境"><a href="#服务器环境" class="headerlink" title="服务器环境"></a>服务器环境</h2><p>华为的ECS（centos7）</p><p>已装好了git，nodejs，以及编译好了nginx（编译这玩意儿有些慢，我编译的时候大概花了将近30分钟）</p><h1 id="本地机器配置"><a href="#本地机器配置" class="headerlink" title="本地机器配置"></a>本地机器配置</h1><h2 id="配置密钥"><a href="#配置密钥" class="headerlink" title="配置密钥"></a>配置密钥</h2><p>在终端使用git bash生成公匙，命令如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa</span><br></pre></td></tr></table></figure><p>然后一路回车，</p><p><img src="http://q4uie93wz.bkt.clouddn.com/20200130111102078/20200130111145685.png" alt=""></p><p>就会在如图示的文件路径下生成一个密钥文件id_rsa.pub</p><p>这个密钥文件我们后面会用到，这个密钥相当于我们访问服务器的钥匙</p><h1 id="云服务器配置"><a href="#云服务器配置" class="headerlink" title="云服务器配置"></a>云服务器配置</h1><h2 id="Git，nodejs，Nginx等安装"><a href="#Git，nodejs，Nginx等安装" class="headerlink" title="Git，nodejs，Nginx等安装"></a>Git，nodejs，Nginx等安装</h2><p>具体安装过程可自行百度</p><h2 id="创建git新用户以及进行配置"><a href="#创建git新用户以及进行配置" class="headerlink" title="创建git新用户以及进行配置"></a>创建git新用户以及进行配置</h2><h3 id="创建git新用户"><a href="#创建git新用户" class="headerlink" title="创建git新用户"></a>创建git新用户</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">adduser git #加入git用户</span><br><span class="line">passwd git #配置你的密码</span><br><span class="line">chmod 740 /etc/sudoers/ #修改git的sudo使用权限为只读</span><br><span class="line">vim /etc/sudoers #编辑sudoers</span><br></pre></td></tr></table></figure><p>打开sudoers，找到以下内容</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span># Allow root to run any commands anywhere</span><br><span class="line">root    ALL=(ALL)       ALL</span><br></pre></td></tr></table></figure><p>在他的下面加入以下内容</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git ALL=(ALL)   ALL</span><br></pre></td></tr></table></figure><p>然后wq保存，并且将权限修改回来</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 400 /etc/sudoers</span><br></pre></td></tr></table></figure><h3 id="将公钥配置到服务器上"><a href="#将公钥配置到服务器上" class="headerlink" title="将公钥配置到服务器上"></a>将公钥配置到服务器上</h3><p>就是刚才我们生成的那个文件<br><img src="http://q4uie93wz.bkt.clouddn.com/20200130111102078/20200130111224785.png" alt=""><br>将该文件内容复制，在云服务器端，切换至刚建好的git用户下，创建<strong>.ssh</strong>文件和和<strong>authorized_keys</strong>文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">su git</span><br><span class="line">mkdir ~/.ssh</span><br><span class="line">vim ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure><p>然后修改权限</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd ~</span><br><span class="line">chmod 600 .ssh/authorzied_keys # 将文件设置为可读可写</span><br><span class="line">chmod 700 .ssh #将该文件夹设置为可读可写可执行（访问）</span><br></pre></td></tr></table></figure><h3 id="测试git链接"><a href="#测试git链接" class="headerlink" title="测试git链接"></a><strong>测试git链接</strong></h3><p>切换到本地机器在本地机器上测试是否能连接到你的远程Git用户</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -v git@SERVER_IP</span><br></pre></td></tr></table></figure><p>测试成功会出现如下：<br><img src="http://q4uie93wz.bkt.clouddn.com/20200130111102078/20200130111952913.png" alt=""><br>如果测试不成功，看看具体的输出信息，通常是公钥没配置好的原因，不用担心，把原来生成的公钥删了，try again  就欧克了</p><h3 id="创建网站根目录"><a href="#创建网站根目录" class="headerlink" title="创建网站根目录"></a><strong>创建网站根目录</strong></h3><p>创建网站的根目录目的是为了让nginx进行托管hexo 生成的静态文件</p><p>创建一个目录用于作为网站的根目录，切换到root用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">su root</span><br><span class="line">mkdir /home/hexo    # 此目录为网站的根目录</span><br></pre></td></tr></table></figure><p>然后变更该目录的所有者</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chown git:git -R /home/hexo</span><br></pre></td></tr></table></figure><h3 id="配置nginx"><a href="#配置nginx" class="headerlink" title="配置nginx"></a><strong>配置nginx</strong></h3><p>安装过程自行度娘就好，编译好nginx后进入nginx的配置文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim conf/nginx.conf</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">server&#123;</span><br><span class="line">        listen       8081;           #监听8081端口</span><br><span class="line">        server_name 139.159.245.212; #你的服务器名，通常是域名，如果是域名，你就需要监听80端口</span><br><span class="line">        root       /home/hexo;       #网站的根目录,根据自己所建自行修改</span><br><span class="line">        location / &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">   #access_log logs/access.log mylog;</span><br><span class="line"></span><br><span class="line">   error_page 404 /404.html;         #配置40x页面</span><br><span class="line">       location = /40x.html &#123;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   error_page 500 502 503 504 /50x.html; #配置50x页面</span><br><span class="line">       location = /50x.html &#123;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>注意使用 <code>nginx -t</code> 命令检查配置文件的语法是否出错。然后使用 <code>systemctl restart nginx.service</code> 或者</p><p>在编译好的nginx目录下使用<code>sbin/nginx -s reload</code>命令重启服务即可</p><h2 id="实现自动化部署"><a href="#实现自动化部署" class="headerlink" title="实现自动化部署"></a>实现自动化部署</h2><h3 id="建立git裸库（就是空的）"><a href="#建立git裸库（就是空的）" class="headerlink" title="建立git裸库（就是空的）"></a><strong>建立git裸库（就是空的）</strong></h3><p>在root用户下</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">su root</span><br><span class="line">cd /home/git   # 在 git 用户目录下创建</span><br><span class="line">git init --bare blog.git</span><br></pre></td></tr></table></figure><p>这时，<code>git</code> 用户的 <code>~</code> 目录下就存在一个 <code>blog.git</code> 文件夹，可使用 <code>ls</code> 命令查看。再修改<code>blog.git</code> 的所有者</p><h3 id="使用钩子同步网站根目录"><a href="#使用钩子同步网站根目录" class="headerlink" title="使用钩子同步网站根目录"></a><strong>使用钩子同步网站根目录</strong></h3><p>在这使用的是 <code>post-receive</code> 这个钩子，当 <code>git</code> 有收发的时候就会调用这个钩子。 在 <code>blog.git</code>裸库的 hooks 文件夹中，新建 <code>post-receive</code> 文件。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim blog.git/hooks/post-receive</span><br></pre></td></tr></table></figure><p>填入以下内容，其中 <code>/home/hexo</code> 为网站目录，根据自己的填入,保存退出。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">git --work-tree=/home/hexo --git-dir=/home/git/blog.git checkout -f</span><br></pre></td></tr></table></figure><p>该钩子的意思是当本地有提交到服务器时，会将文件放在/home/hexo下</p><p><code>-f</code>这个参数如果在多人协作的博客中可能会引发不好的结果，因为他是强制更新的意思，会将本地版本覆盖掉远程服务器的版本，但是是个人的博客系统就无所谓了</p><p>保存后，要赋予这个文件可执行权限。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x /home/git/blog.git/hooks/post-receive</span><br></pre></td></tr></table></figure><h2 id="本地机器中部署至服务器"><a href="#本地机器中部署至服务器" class="headerlink" title="本地机器中部署至服务器"></a>本地机器中部署至服务器</h2><p>在本地中，和部署到 <code>github</code> 服务一样，需要先 <code>hexo g</code> 命令生成静态文件，通过 <code>hexo s</code> 命令能够正常进行本地访问，并且确保<strong><em>已经安装</em></strong>了 <code>hexo-deployer-git</code>。</p><h3 id="配置Hexo"><a href="#配置Hexo" class="headerlink" title="配置Hexo"></a><strong>配置Hexo</strong></h3><p>hexo 根目录下的 <code>_config.yml</code> 文件，找到 <code>deploy</code>。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">    type: git</span><br><span class="line">    repo: git@SERVER:/home/git/blog.git     # 填写你的服务器地址 将SERVER替换掉</span><br><span class="line">    branch: master      # 分支</span><br></pre></td></tr></table></figure><p>之后按照正常的流程部署，也可以在hexo项目中添加脚本scripts,脚本内容如下图所示（在package.json文件中添加）</p><p><img src="http://q4uie93wz.bkt.clouddn.com/20200130111102078/20200130114431386.png" alt=""></p><h2 id="测试自动化部署"><a href="#测试自动化部署" class="headerlink" title="测试自动化部署"></a>测试自动化部署</h2><p><img src="http://q4uie93wz.bkt.clouddn.com/20200130111102078/20200130114351552.png" alt=""><br>然后用hexo d 即可推送到远端服务器 然后可以用自己服务器ip访问自己的博客网站了</p><p>本次分享就到这儿，有任何问题欢迎留言，我会在第一时间，进行回复！！</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo,blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用hexo搭建博客（三）</title>
      <link href="/hexo-2/"/>
      <url>/hexo-2/</url>
      
        <content type="html"><![CDATA[<h1 id="部署发行项目"><a href="#部署发行项目" class="headerlink" title="部署发行项目"></a>部署发行项目</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>这篇文章是基于你已经注册了github账号和创建了对应的仓库，通过配置ssh来建立连接</p><h2 id="创建Repository"><a href="#创建Repository" class="headerlink" title="创建Repository"></a>创建Repository</h2><p>创建一个Repository，名称规则为</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username.github.name</span><br></pre></td></tr></table></figure><p>然后编辑hexo的配置文件_config.yml,修改如图示地方。repo修改你的仓库地方</p><p><img src="http://q4uie93wz.bkt.clouddn.com/20200203120623653/20200203031453107.png" alt=""></p><h2 id="生成ssh"><a href="#生成ssh" class="headerlink" title="生成ssh"></a>生成ssh</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C &quot;邮件地址@youremail.com&quot;</span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file in which to save the key (/Users/your_user_directory/.ssh/id_rsa):&lt;回车&gt;</span><br></pre></td></tr></table></figure><p>然后一路回车</p><h4 id="赋值id-rsa-pub文件内容，在github的settings中，点选SSH-keys，添加一个key，将内容粘贴进去"><a href="#赋值id-rsa-pub文件内容，在github的settings中，点选SSH-keys，添加一个key，将内容粘贴进去" class="headerlink" title=".赋值id_rsa.pub文件内容，在github的settings中，点选SSH keys，添加一个key，将内容粘贴进去"></a>.赋值id_rsa.pub文件内容，在github的settings中，点选SSH keys，添加一个key，将内容粘贴进去</h4><p><img src="C:\Users\lyh\AppData\Roaming\Typora\typora-user-images\1580714396039.png" alt="1580714396039"></p><h4 id="测试是否添加成功"><a href="#测试是否添加成功" class="headerlink" title="测试是否添加成功"></a>测试是否添加成功</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><h2 id="部署到github上"><a href="#部署到github上" class="headerlink" title="部署到github上"></a>部署到github上</h2><p>在hexo中分别进行生成，上传</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><h2 id="部署成功后，可通过-http-pangyuanni-github-io-进行访问，其中将pangyuanni替换为你自己的username即可"><a href="#部署成功后，可通过-http-pangyuanni-github-io-进行访问，其中将pangyuanni替换为你自己的username即可" class="headerlink" title="部署成功后，可通过 http://pangyuanni.github.io 进行访问，其中将pangyuanni替换为你自己的username即可"></a>部署成功后，可通过 <a href="http://pangyuanni.github.io/" target="_blank" rel="noopener">http://pangyuanni.github.io</a> 进行访问，其中将pangyuanni替换为你自己的username即可</h2><p><img src="http://q4uie93wz.bkt.clouddn.com/20200203120623653/20200203032221032.png" alt=""></p><p>此次分享到这儿 下篇博客分享如何部署到自己的与服务器上</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo,blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用hexo搭建博客（二）</title>
      <link href="/hexo-1/"/>
      <url>/hexo-1/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>   承接上篇博客，上篇博客中我们已经能够在本地成功运行我们的hexo博客，这篇文章我们来说说hexo的主题等个性化操作</p><h2 id="主题"><a href="#主题" class="headerlink" title="主题"></a>主题</h2><p>  Hexo官网有很多很多主题供我们选择，我们可以在这些主题的基础之下进行修改，或者加入我们个性化的元素，hexo的官网网址是<a href="https://hexo.io/zh-cn/，" target="_blank" rel="noopener">https://hexo.io/zh-cn/，</a><br>  <img src="http://q4uie93wz.bkt.clouddn.com/20200203120623653/20200203120627780.png" alt=""><br>  打开之后是这样，打开之后就是对hexo优点的介绍，然后我们选择主题然后打开就可以看到很多很多主题，由于hexo的服务器在国外加载可能较慢，耐心等待就好。</p><p>  <img src="http://q4uie93wz.bkt.clouddn.com/20200203120623653/20200203120721133.png" alt=""></p><p>然后每个主题对应的名字就是主题的github地址，在我们hexo项目文件中找到theme进入之后，使用git clone 加主题的github地址，就可以把相应的主题文件克隆到我们的本地，我用我使用的material-x 这个主题为例，地址是<a href="https://github.com/xaoxuu/hexo-theme-material-x.git" target="_blank" rel="noopener">https://github.com/xaoxuu/hexo-theme-material-x.git</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/xaoxuu/hexo-theme-material-x.git</span><br></pre></td></tr></table></figure><p><img src="http://q4uie93wz.bkt.clouddn.com/20200203120623653/20200203121716821.png" alt=""></p><p>这样就能将主题文件克隆到本地，如图示，当然也可以在浏览器里下载然后，解压到你的themes文件夹下</p><p><img src="http://q4uie93wz.bkt.clouddn.com/20200203120623653/20200203121822897.png" alt=""></p><p>克隆完看看  看看使用说明，有没有相关的依赖包需要下载，若有按照说明进行下载，如 material-x</p><p><img src="http://q4uie93wz.bkt.clouddn.com/20200203120623653/20200203011121694.png" alt=""></p><p>npm i -S hexo-generator-search hexo-generator-json-content hexo-renderer-less</p><p><img src="http://q4uie93wz.bkt.clouddn.com/20200203120623653/20200203011259181.png" alt=""></p><h2 id="Hexo网站配置文件"><a href="#Hexo网站配置文件" class="headerlink" title="Hexo网站配置文件"></a>Hexo网站配置文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">在根目录下的_config.yml主要是对网站的总属性进行设置</span><br><span class="line">如：网站标题，网站logo,网站插件使用等全局的属性</span><br><span class="line">主题目录下的_config.yml主要是针对网站的布局，导航等特性设置进行设</span><br></pre></td></tr></table></figure><h2 id="启用主题"><a href="#启用主题" class="headerlink" title="启用主题"></a>启用主题</h2><p>打开站点配置文件（根目录下的_config.yml）找到theme，将其值改为你下载的主题的名字，如下</p><p><img src="http://q4uie93wz.bkt.clouddn.com/20200203120623653/20200203125512343.png" alt=""></p><p><strong>PS</strong> :注意theme的冒号后面有个空格，不然会报错</p><p>然后再次启动我们的hexo，打开localshost:4000就可以看到主题效果</p><p><img src="http://q4uie93wz.bkt.clouddn.com/20200203120623653/20200203011347920.png" alt=""></p><p>这样我们就更换了一个主题</p><p>关于网站的配置我们都可在网站的配置文件下更改：</p><p>刚更换完主题后，配置文件是这样的：</p><p><img src="http://q4uie93wz.bkt.clouddn.com/20200203120623653/20200203012031216.png" alt=""></p><p>自己配置完是这样的</p><p><img src="http://q4uie93wz.bkt.clouddn.com/20200203120623653/20200203011744303.png" alt=""></p><p>title是网站的标题</p><p>avatar 是网站的图标，</p><p>logo是网站的logo，</p><p>subtitle 是网站副标题</p><p>description 是网站描述</p><p>author 是作者</p><p>timezone 是时区</p><p>language 是语言</p><p>其他配置暂时可忽略</p><p>然后对于其他关于主题的设置可以到themes文件夹下里的主题文件里的_config.yml里面进行相关配置，比如评论系统，字数统计，背景图，等等相关配置都在里面进行配置，在配置文件里都有相关说明。</p><p>此次分享就到这儿，下篇博客我们分享如何部署项目</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo，blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用hexo 搭建博客(一)</title>
      <link href="/hexo/"/>
      <url>/hexo/</url>
      
        <content type="html"><![CDATA[<h1 id="使用Hexo搭建博客（一）"><a href="#使用Hexo搭建博客（一）" class="headerlink" title="使用Hexo搭建博客（一）"></a>使用Hexo搭建博客（一）</h1><h2 id="引言："><a href="#引言：" class="headerlink" title="引言："></a>引言：</h2><p>   本来刚开始想用python的django框架进行个人博客的搭建，但是使用python框架进行搭建的话， 但是进行到一半就不想干了，因为代码量太复杂，太繁琐，后来在网上发现了hexo这个专业的博客框架，搭建起来比较django省时省力，就决定用Hexo来搭建，在本地搭建没什么问题，但部署在云服务器的过程异常艰难。但最终，在神器——百度 的帮助下，问题全部解决</p><h2 id="Hexo-说明"><a href="#Hexo-说明" class="headerlink" title="Hexo 说明"></a>Hexo 说明</h2><p>Hexo是基于nodeJS环境的静态博客，简单来说就是轻量，简易，高逼格的博客工具，hexo是将markdown文件生成静态的html然后将生成的html上传到我们的服务器，简而言之：hexo是个静态页面生成，上传的工具</p><h2 id="准备环境"><a href="#准备环境" class="headerlink" title="准备环境"></a>准备环境</h2><p>先安利一个在windows下非常好用的命令行工具<a href="https://cmder.net/" target="_blank" rel="noopener">cmder</a>,关于他的好用之处，在另一篇博客有详细说明</p><ol><li><p><a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.js</a> 下载后，双击打开安装，也是一路next，不过在Custom Setup这一步记得选 <code>Add to PATH</code> ,这样你就不用自己去配置电脑上环境变量了</p></li><li><p><a href="https://git-scm.com/" target="_blank" rel="noopener">Git</a> 下载安装，下载后一路next就好</p></li><li><p>用npm安装Hexo</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli  // npm是安装Nodejs一起安装的包管理工具</span><br></pre></td></tr></table></figure></li></ol><p>这样我们的hexo在本地就差不多完成了，然后我们新建一个空的文件夹，进去初始化博客（这里我新建一个blog的文件夹）然后输入下列命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo init # hexo会在目标文件夹简历网站所需要的所有文件</span><br><span class="line">npm install # 安装依赖包</span><br></pre></td></tr></table></figure><p>也可以使用 hexo init  <folder>，其中 <folder>为保存Hexo的项目路径，然后就等待clone，就会把各种配置文件下载到你的文件夹中了，</folder></folder></p><p><img src="http://q4uie93wz.bkt.clouddn.com/django/20200129052843085.png" alt=""></p><h3 id="本地启动"><a href="#本地启动" class="headerlink" title="本地启动"></a>本地启动</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g #等同于hexo generate,胜场静态文件到public文件夹</span><br><span class="line">hexo s # 等同于hexo server,在本地服务器运行</span><br></pre></td></tr></table></figure><p>还有一个命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean #作为清除静态文件夹的内容并删掉，主要用于更改变更了某些地方导致页面显示不完善</span><br></pre></td></tr></table></figure><p><img src="http://q4uie93wz.bkt.clouddn.com/django/20200129052936282.png" alt=""></p><p>之后就可以打开浏览器并输入ip地址<a href="http://localhost:4000/查看，效果如下" target="_blank" rel="noopener">http://localhost:4000/查看，效果如下</a></p><p><img src="http://q4uie93wz.bkt.clouddn.com/django/20200129053008515.png" alt=""></p><h3 id="新建页面和文章"><a href="#新建页面和文章" class="headerlink" title="新建页面和文章"></a>新建页面和文章</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo new 'title' #生成新文章，路径在:\source\_post\title.md</span><br><span class="line">hexo new page 'title' #生成新页面,可在主题配置文件中配置页面</span><br></pre></td></tr></table></figure><p>生成文章或页面的模板放在博客文件夹根目录下的 scaffolds/ 文件夹里面，文章对应的是 post.md ，页面对应的是page.md，草稿的是draft.md</p><h3 id="编辑文章"><a href="#编辑文章" class="headerlink" title="编辑文章"></a>编辑文章</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Start My Blog Trip — Power By Hexo  # 文章页面上的显示名称，可以任意修改，不会出现在URL中</span><br><span class="line">date: 2017-2-10 23:49:28  # 文章生成时间，一般不改</span><br><span class="line">categories: diary  # 文章分类目录，多个分类使用[a,b,c]这种格式</span><br><span class="line">tags: [Hexo,diary]  # 文章标签</span><br><span class="line">---</span><br><span class="line"><span class="meta">#</span>这里开始使用markdown格式输入你的正文。</span><br><span class="line">&lt;!--more--&gt; </span><br><span class="line"><span class="meta">#</span>more标签以下的内容要点击“阅读全文”才能看见，#more标签以上的内容为你首页显示文章的摘要部分</span><br></pre></td></tr></table></figure><h3 id="Markdown文章编辑"><a href="#Markdown文章编辑" class="headerlink" title="Markdown文章编辑"></a>Markdown文章编辑</h3><p>如果不熟悉MD语法，可以去百度，B站找教学，不难，常用的语法就那么几个</p><p>再给大家安利个md文章神器<a href="https://www.typora.io/" target="_blank" rel="noopener">Typora</a>,还有hexo文章神器<a href="http://pdidc.jb51.net:81/201903/tools/HexoEdit32_jb51.rar" target="_blank" rel="noopener">HexoEditor</a></p><h3 id="常用命令总结"><a href="#常用命令总结" class="headerlink" title="常用命令总结"></a>常用命令总结</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">hexo init [folder] # 初始化一个网站。如果没有设置 folder ，Hexo 默认在目前的文件夹建立网站</span><br><span class="line">hexo new [layout] &lt;title&gt; # 新建一篇文章。如果没有设置 layout 的话，默认使用 _config.yml 中的 default_layout 参数代替。如果标题包含空格的话，请使用引号括起来</span><br><span class="line">hexo version # 查看版本</span><br><span class="line">hexo clean # 清除缓存文件 (db.json) 和已生成的静态文件 (public)</span><br><span class="line">hexo g # 等于hexo generate # 生成静态文件</span><br><span class="line">hexo s # 等于hexo server # 本地预览</span><br><span class="line">hexo d # 等于hexo deploy # 部署，可与hexo g合并为 hexo d -g</span><br></pre></td></tr></table></figure><p>本篇文章先到这儿，下篇文章给大家分享分享打造个性化的hexo-blog</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo,blog </tag>
            
        </tags>
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>404 Not Found</title>
      <link href="/404.html"/>
      <url>/404.html</url>
      
        <content type="html"><![CDATA[<h1 id="404-Not-Found"><a href="#404-Not-Found" class="headerlink" title="404 Not Found"></a><center><strong>404 Not Found</strong></center></h1><p><br></p><center><strong>很抱歉，您访问的页面不存在</strong></center><br><center>可能是输入地址有误或该地址已被删除</center><p><br><br><br></p>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>我的朋友们</title>
      <link href="/friends/index.html"/>
      <url>/friends/index.html</url>
      
        <content type="html"><![CDATA[<p><br></p><p>各位大佬想交换友链的话可以在下方留言，必须要有名称、头像链接、和至少一个标签哦～</p><blockquote><p>名称： 风晓博客<br>头像：  <a href="http://i2.tiimg.com/708378/9da6ad9df503cebc.jpg" target="_blank" rel="noopener">http://i2.tiimg.com/708378/9da6ad9df503cebc.jpg</a><br>网址： <a href="https://www.windknows.com">https://www.windknows.com</a><br>标签： iOS</p></blockquote>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>关于</title>
      <link href="/about/index.html"/>
      <url>/about/index.html</url>
      
        <content type="html"><![CDATA[<div class="style-example example"><ul class="pure circle center about"><li><img src="http://i2.tiimg.com/708378/9da6ad9df503cebc.jpg"></li></ul><center><a href="https://github.com/xaoxuu" target="_blank" rel="noopener"><i class="fab fa-github"></i></a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="https://xaoxuu.com/blog/" target="_blank" rel="noopener"><i class="fas fa-rss"></i></a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="https://instagram.com/xaoxuu" target="_blank" rel="noopener"><i class="fab fa-instagram"></i></a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="https://music.163.com/#/user/home?id=63035382" target="_blank" rel="noopener"><i class="fas fa-headphones"></i></a></center><p><hr></p><center>这是第一次搭建的博客，请随意留言，但是我不会回复<br><span><img class="emoji tieba" src="https://cdn.jsdelivr.net/gh/xaoxuu/volantis@1.0/img/tieba/滑稽.png"><img class="emoji tieba" src="https://cdn.jsdelivr.net/gh/xaoxuu/volantis@1.0/img/tieba/滑稽.png"><img class="emoji tieba" src="https://cdn.jsdelivr.net/gh/xaoxuu/volantis@1.0/img/tieba/滑稽.png"></span></center></div><h4 id="One-More-Thing"><a href="#One-More-Thing" class="headerlink" title="One More Thing"></a>One More Thing</h4><p>懒加载占位图如果喜欢请拿去：<a href="https://img.vim-cn.com/92/d570170f4f12e1ee829ca0e85a7dffeb77343a.svg" target="_blank" rel="noopener">图片链接</a></p><p><br><hr></p><center>欢迎灌水</center><p><br></p><iframe src="//player.bilibili.com/player.html?aid=52012946&cid=91055960&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" width="100%" height="500px"> </iframe>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/projects/index.html"/>
      <url>/projects/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>所有标签</title>
      <link href="/blog/tags/index.html"/>
      <url>/blog/tags/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>所有分类</title>
      <link href="/blog/categories/index.html"/>
      <url>/blog/categories/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
  
</search>
